!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";class t{constructor(t,e,s,r){this.element=t,this.texts=e||[],this.current=1,this.currentText="",this.waitTime=s||2e3,this.showCursor=r||!1,this.cursor=!0}async start(){for(this.currentText=this.texts[0]||"",this.element.innerHTML=this.currentText+this.getCursor(),this.increment();;)await this.swap()}getCursor(){return this.showCursor?'<span style="position:relative;"><span style="position:absolute;top:0.05em;bottom:0.05em;border-left:0.05em solid currentColor;"></span></span>':""}async swap(){await this.wait(this.waitTime),await this.clear(),await this.type(this.nextText())}increment(){this.current++,this.current>this.texts.length&&(this.current=1)}nextText(){let t=this.texts[this.current-1];return this.increment(),t}text(){return this.currentText}length(){return this.text().length}append(t){return this.currentText+=t,this.element.innerHTML=this.currentText+this.getCursor(),this.wait(100)}backspace(){return this.currentText=this.text().slice(0,-1),this.element.innerHTML=this.currentText+this.getCursor(),this.wait(100)}async clear(){for(;this.length();)await this.backspace()}async type(t){for(;t.length;)await this.append(t[0]),t=t.substring(1)}async wait(t){this.cursor=!0;const e=setInterval((()=>{this.cursor=!this.cursor,this.cursor?this.element.innerHTML=this.currentText+this.getCursor():this.element.innerHTML=this.currentText}),530);return new Promise((s=>{setTimeout((()=>{clearInterval(e),s()}),t)}))}}document.addEventListener("alpine:init",(()=>{window.Alpine.directive("typewriter",((e,{expression:s,modifiers:r},{evaluate:i})=>{const n=i(s),h=r.filter((t=>t.match(/^\d+m?s$/))).pop();let a=null;h&&(a=h.endsWith("ms")?parseInt(h.match(/^(\d+)/)[1]):1e3*parseInt(h.match(/^(\d+)s/)[1]));const c=r.includes("cursor");new t(e,n,a,c).start().then()}))}))}));
